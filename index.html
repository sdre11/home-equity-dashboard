<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Home Equity & HELOC Rate Dashboard</title>
<style>
body {
font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
margin: 20px;
background-color: #f9fbfd;
color: #222;
}
h1, h2 {
color: #004466;
text-align: center;
}
section {
margin-bottom: 30px;
background: #fff;
border-radius: 10px;
box-shadow: 0 4px 12px rgba(0, 70, 102, 0.1);
padding: 20px;
max-width: 900px;
margin-left: auto;
margin-right: auto;
}
iframe {
border: none;
width: 100%;
height: 400px;
border-radius: 8px;
}
ul {
list-style: none;
padding-left: 0;
max-width: 900px;
margin-left: auto;
margin-right: auto;
}
ul li {
margin: 8px 0;
}
ul li a {
color: #007acc;
text-decoration: none;
font-weight: 600;
font-size: 1.05rem;
}
ul li a:hover {
text-decoration: underline;
}
p {
font-size: 1.1rem;
}
.rate {
font-weight: 700;
font-size: 1.3rem;
}
table {
width: 100%;
border-collapse: collapse;
margin-top: 12px;
}
table, th, td {
border: 1px solid #ccc;
}
th, td {
padding: 10px;
text-align: center;
font-size: 1rem;
}
/* Buttons for chart toggle */
#chartToggle {
text-align: center;
margin-bottom: 15px;
}
#chartToggle button {
background-color: #007acc;
border: none;
color: white;
font-weight: 600;
font-size: 1rem;
padding: 10px 20px;
margin: 0 10px;
border-radius: 25px;
cursor: pointer;
transition: background-color 0.3s ease;
}
#chartToggle button:hover {
background-color: #005f99;
}
#chartToggle button.active {
background-color: #004466;
}
canvas {
max-width: 900px;
margin: 0 auto;
display: block;
}
@media (max-width: 600px) {
section, ul, canvas {
margin: 10px;
max-width: 95%;
}
#chartToggle button {
padding: 8px 15px;
margin: 5px 5px;
font-size: 0.9rem;
}
}
</style>
</head>
<body>

<h1>üè† Home Equity & HELOC Rate Dashboard</h1>

<section>
<h2>Quick Links to Rate Aggregators</h2>
<ul>
<li><a href="https://www.bankrate.com/home-equity/" target="_blank" rel="noopener noreferrer">Bankrate ‚Äì Home Equity Loans</a></li>
<li><a href="https://www.nerdwallet.com/best/home-equity-loans" target="_blank" rel="noopener noreferrer">NerdWallet ‚Äì Home Equity Loans</a></li>
<li><a href="https://www.lendingtree.com/home/home-equity/" target="_blank" rel="noopener noreferrer">LendingTree ‚Äì Home Equity Loans</a></li>
</ul>
</section>

<section>
<h2>Today's Average Rates</h2>
<p><strong>HELOC:</strong> <span id="helocRate" class="rate">Loading...</span></p>
<p><strong>Home Equity Loan:</strong> <span id="loanRate" class="rate">Loading...</span></p>
<p><strong>10-Year Treasury Yield:</strong> <span id="treasuryYield" class="rate">Loading...</span></p>
</section>

  <!-- Add this inside your body where you want the 10-Year Treasury Yield displayed -->
<h2>10-Year Treasury Yield</h2>
<div class="range-bar" id="rangeBar" style="position: relative; height: 20px; background: linear-gradient(to right, #4CAF50 0%, #FFEB3B 50%, #F44336 100%); border-radius: 10px; margin: 20px 0;">
  <!-- Markers for Good and Bad limits -->
  <div class="marker" style="position: absolute; top: -10px; width: 2px; height: 40px; background: #333; left: 30%;"></div>
  <div class="label" style="position: absolute; top: 30px; width: 40px; margin-left: -20px; font-size: 0.8em; color: #333; text-align: center; left: 30%;">3.0%</div>

  <div class="marker" style="position: absolute; top: -10px; width: 2px; height: 40px; background: #333; left: 80%;"></div>
  <div class="label" style="position: absolute; top: 30px; width: 40px; margin-left: -20px; font-size: 0.8em; color: #333; text-align: center; left: 80%;">4.0%</div>

  <!-- Pointer for current rate -->
  <div id="ratePointer" style="position: absolute; top: -15px; width: 0; height: 0; border-left: 10px solid transparent; border-right: 10px solid transparent; border-bottom: 15px solid #000; left: 0;"></div>
</div>
  <p>Current Yield: <span id="currentYield" style="font-weight:bold;"></span></p>

<script>

   // Limits for "good" and "bad"
  const goodLimit = 3.0;
  const badLimit = 4.0;
  const minRate = 2.0;  // left end of bar scale
  const maxRate = 5.0;  // right end of bar scale

  // Convert a yield rate to a % position on the bar (0% = minRate, 100% = maxRate)
  function rateToPercent(rate) {
    let pct = ((rate - minRate) / (maxRate - minRate)) * 100;
    if (pct < 0) pct = 0;
    if (pct > 100) pct = 100;
    return pct;
  }



<section>
<h2>Rate Trends</h2>
<div id="chartToggle">
<button id="btn30" class="active">Last 30 Days</button>
<button id="btn12m">Last 12 Months</button>
</div>
<canvas id="rateChart" aria-label="Rate Trends Chart" role="img"></canvas>
</section>

<section>
<h2>Federal Reserve Rate Tracker</h2>
<iframe src="https://www.cmegroup.com/markets/interest-rates/cme-fedwatch-tool.html" title="CME FedWatch Tool"></iframe>
</section>

<section>
<h2>Manual Rate Log</h2>
<table>
<thead>
<tr>
<th>Date</th>
<th>Lender 1</th>
<th>Lender 2</th>
<th>Lender 3</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>MM/DD/YYYY</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// Helper function for coloring rates
function colorRate(elementId, rate, thresholds) {
const el = document.getElementById(elementId);
if (rate === "N/A" || rate === "Error loading") {
el.style.color = "black";
return;
}
const num = parseFloat(rate);
if (num <= thresholds.green) {
el.style.color = "green";
} else if (num >= thresholds.red) {
el.style.color = "red";
} else {
el.style.color = "black";
}
}

// ---- Static sample rates for HELOC and Home Equity Loan ----
const staticHelocRate = 7.85; // <-- edit this anytime
const staticLoanRate = 8.20; // <-- edit this anytime

document.getElementById("helocRate").textContent = staticHelocRate.toFixed(2) + "%";
colorRate("helocRate", staticHelocRate, { green: 7.0, red: 8.51 });

document.getElementById("loanRate").textContent = staticLoanRate.toFixed(2) + "%";
colorRate("loanRate", staticLoanRate, { green: 7.5, red: 9.01 });

  // Fetch the 10-Year Treasury Yield and update the pointer and text
  fetch('https://api.allorigins.win/get?url=' + encodeURIComponent('https://api.fiscaldata.treasury.gov/services/api/fiscal_service/v2/accounting/od/avg_interest_rates?sort=-record_date&page[size]=5'))
    .then(res => res.json())
    .then(data => {
      const jsonData = JSON.parse(data.contents);
      if (jsonData.data && jsonData.data.length > 0) {
        const tenYear = jsonData.data.find(item => item.security_desc === "Treasury Notes");
        if (tenYear) {
          const yieldValue = parseFloat(tenYear.avg_interest_rate_amt);
          const pointer = document.getElementById("ratePointer");
          const currentYield = document.getElementById("currentYield");

          const percent = rateToPercent(yieldValue);
          pointer.style.left = percent + "%";
          currentYield.textContent = yieldValue.toFixed(3) + "%";
        } else {
          document.getElementById("currentYield").textContent = "N/A";
        }
      } else {
        document.getElementById("currentYield").textContent = "N/A";
      }
    })
    .catch(() => {
      document.getElementById("currentYield").textContent = "Error loading";
    });
</script>

// Chart.js setup for Rate Trends

// Generate mock historical data for demo purposes
function generateMockData(days, baseHeloc, baseLoan) {
const dates = [];
const helocRates = [];
const loanRates = [];
let date = new Date();
date.setHours(0,0,0,0);
for (let i = days - 1; i >= 0; i--) {
const d = new Date(date);
d.setDate(d.getDate() - i);
dates.push(d.toISOString().slice(0,10));
helocRates.push((baseHeloc + (Math.random() - 0.5)*0.3).toFixed(2));
loanRates.push((baseLoan + (Math.random() - 0.5)*0.3).toFixed(2));
}
return { dates, helocRates, loanRates };
}

const data30Days = generateMockData(30, staticHelocRate, staticLoanRate);
const data12Months = generateMockData(365, staticHelocRate, staticLoanRate);

const ctx = document.getElementById("rateChart").getContext("2d");
let currentDataset = data30Days;

const chart = new Chart(ctx, {
type: "line",
data: {
labels: currentDataset.dates,
datasets: [
{
label: "HELOC Rate (%)",
data: currentDataset.helocRates,
borderColor: "#007acc",
backgroundColor: "rgba(0, 122, 204, 0.2)",
fill: true,
tension: 0.25,
pointRadius: 2,
},
{
label: "Home Equity Loan Rate (%)",
data: currentDataset.loanRates,
borderColor: "#28a745",
backgroundColor: "rgba(40, 167, 69, 0.2)",
fill: true,
tension: 0.25,
pointRadius: 2,
},
],
},
options: {
responsive: true,
interaction: {
mode: "index",
intersect: false,
},
plugins: {
legend: {
labels: {
font: {
size: 14,
},
},
},
tooltip: {
enabled: true,
mode: "nearest",
intersect: false,
},
},
scales: {
y: {
beginAtZero: false,
title: {
display: true,
text: "Interest Rate (%)",
font: { size: 14 },
},
},
x: {
title: {
display: true,
text: "Date",
font: { size: 14 },
},
ticks: {
maxTicksLimit: 12,
},
},
},
},
});

document.getElementById("btn30").addEventListener("click", () => {
chart.data.labels = data30Days.dates;
chart.data.datasets[0].data = data30Days.helocRates;
chart.data.datasets[1].data = data30Days.loanRates;
chart.update();
toggleActiveButton("btn30");
});

document.getElementById("btn12m").addEventListener("click", () => {
chart.data.labels = data12Months.dates;
chart.data.datasets[0].data = data12Months.helocRates;
chart.data.datasets[1].data = data12Months.loanRates;
chart.update();
toggleActiveButton("btn12m");
});

function toggleActiveButton(activeId) {
document.getElementById("btn30").classList.remove("active");
document.getElementById("btn12m").classList.remove("active");
document.getElementById(activeId).classList.add("active");
}
</script>

</body>
</html>
